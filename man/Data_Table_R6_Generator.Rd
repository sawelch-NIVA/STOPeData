% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/fct_R6.R
\name{Data_Table_R6_Generator}
\alias{Data_Table_R6_Generator}
\title{Base Data Table R6 Generator}
\description{
Abstract base class for all eData table types providing standardised structure,
validation, and metadata management. This \link[R6:R6Class]{R6} class bundles:
\itemize{
\item A tibble containing the actual data
\item A schema defining column names, types, and mandatory status
\item Validation methods to ensure data integrity
\item Active bindings for querying metadata
}

Child classes must define in their private section:
\itemize{
\item \code{schema}: A \link[tibble:tibble]{tibble} with columns (\code{column_name}, \code{data_type}, \code{mandatory}, \code{description})
\item \code{schema_version}: A version string following semantic versioning (e.g., \code{"1.0.0"})
}
}
\examples{
\dontrun{
# This is an abstract base class - use child classes instead
# See CampaignData_Table_R6_Generator for concrete implementation
}
}
\section{Public fields}{
\if{html}{\out{<div class="r6-fields">}}
\describe{
\item{\code{schema}}{(\code{tbl_df})\cr
Tibble defining table structure with columns: column_name, data_type, mandatory, description.
Must be defined in child classes.}

\item{\code{schema_version}}{(\code{character(1)})\cr
Semantic version string (e.g., \code{"1.0.0"}).
Must be defined in child classes.}

\item{\code{data}}{(\code{tbl_df})\cr
The actual data tibble. Can be modified directly but prefer using \verb{$add_rows()}
for automatic validation.}
}
\if{html}{\out{</div>}}
}
\section{Active bindings}{
\if{html}{\out{<div class="r6-active-bindings">}}
\describe{
\item{\code{schema}}{(\code{tbl_df})\cr
Tibble defining table structure with columns: column_name, data_type, mandatory, description.
Must be defined in child classes.}

\item{\code{schema_version}}{(\code{character(1)})\cr
Semantic version string (e.g., \code{"1.0.0"}).
Must be defined in child classes.}

\item{\code{metadata}}{(\code{tbl_df})\cr
Returns the schema as a tibble. Read-only.}

\item{\code{version}}{(\code{character(1)})\cr
Returns the schema version string. Read-only.}

\item{\code{mandatory_fields}}{(\code{character()})\cr
Returns a character vector of mandatory column names. Read-only.}

\item{\code{optional_fields}}{(\code{character()})\cr
Returns a character vector of optional column names. Read-only.}

\item{\code{n_rows}}{(\code{integer(1)})\cr
Returns the number of rows in the data tibble. Read-only.}
}
\if{html}{\out{</div>}}
}
\section{Methods}{
\subsection{Public methods}{
\itemize{
\item \href{#method-Data_Table_R6_Generator-new}{\code{Data_Table_R6_Generator$new()}}
\item \href{#method-Data_Table_R6_Generator-add_rows}{\code{Data_Table_R6_Generator$add_rows()}}
\item \href{#method-Data_Table_R6_Generator-validate_structure}{\code{Data_Table_R6_Generator$validate_structure()}}
\item \href{#method-Data_Table_R6_Generator-clone}{\code{Data_Table_R6_Generator$clone()}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-Data_Table_R6_Generator-new"></a>}}
\if{latex}{\out{\hypertarget{method-Data_Table_R6_Generator-new}{}}}
\subsection{Method \code{new()}}{
Build an empty tibble with appropriate column types based on the schema.
This is an internal method called during initialization.


Creates a new instance of this \link[R6:R6Class]{R6} class.
Initializes an empty data tibble based on the schema defined in the child class.
This method is called automatically when using \verb{$new()}.

Note that this object is typically constructed via derived classes,
e.g., \link{CampaignData_Table_R6_Generator}.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{Data_Table_R6_Generator$new()}\if{html}{\out{</div>}}
}

\subsection{Returns}{
(\code{tbl_df})\cr
An empty tibble with columns defined by the schema.
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-Data_Table_R6_Generator-add_rows"></a>}}
\if{latex}{\out{\hypertarget{method-Data_Table_R6_Generator-add_rows}{}}}
\subsection{Method \code{add_rows()}}{
Add rows to the data tibble with validation.
Validates that all mandatory columns are present and that column types match
the schema. Returns self invisibly to allow method chaining.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{Data_Table_R6_Generator$add_rows(new_rows)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{new_rows}}{(\code{tbl_df})\cr
A tibble containing the rows to add. Must include all mandatory columns
and match the schema's column types.}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
Self, invisibly.
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-Data_Table_R6_Generator-validate_structure"></a>}}
\if{latex}{\out{\hypertarget{method-Data_Table_R6_Generator-validate_structure}{}}}
\subsection{Method \code{validate_structure()}}{
Validate that the current data structure matches the schema.
Checks that column names are correct and in the right order, and that
column types match expectations. Stops with an error if validation fails.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{Data_Table_R6_Generator$validate_structure()}\if{html}{\out{</div>}}
}

\subsection{Returns}{
(\code{logical(1)})\cr
Returns \code{TRUE} if validation passes. Stops with error if validation fails.
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-Data_Table_R6_Generator-clone"></a>}}
\if{latex}{\out{\hypertarget{method-Data_Table_R6_Generator-clone}{}}}
\subsection{Method \code{clone()}}{
The objects of this class are cloneable with this method.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{Data_Table_R6_Generator$clone(deep = FALSE)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{deep}}{Whether to make a deep clone.}
}
\if{html}{\out{</div>}}
}
}
}
